<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>SPI_freetuptable</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REV="MADE"
HREF="mailto:pgsql-docs@postgresql.org"><LINK
REL="HOME"
TITLE="Документация по PostgreSQL 9.4.1"
HREF="index.html"><LINK
REL="UP"
TITLE="Управление памятью"
HREF="spi-memory.html"><LINK
REL="PREVIOUS"
TITLE="SPI_freetuple"
HREF="spi-spi-freetuple.html"><LINK
REL="NEXT"
TITLE="SPI_freeplan"
HREF="spi-spi-freeplan.html"><LINK
REL="STYLESHEET"
TYPE="text/css"
HREF="stylesheet.css"><META
HTTP-EQUIV="Content-Type"
CONTENT="text/html; charset=UTF-8"><META
NAME="creation"
CONTENT="2016-04-12T07:56:57"></HEAD
><BODY
CLASS="REFENTRY"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="4"
ALIGN="center"
VALIGN="bottom"
><A
HREF="index.html"
>Документация по PostgreSQL 9.4.1</A
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
TITLE="SPI_freetuple"
HREF="spi-spi-freetuple.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="top"
><A
HREF="spi-memory.html"
ACCESSKEY="U"
>Уровень выше</A
></TD
><TD
WIDTH="60%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="20%"
ALIGN="right"
VALIGN="top"
><A
TITLE="SPI_freeplan"
HREF="spi-spi-freeplan.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="SPI-SPI-FREETUPLETABLE"
></A
>SPI_freetuptable</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN66147"
></A
><H2
>Название</H2
>SPI_freetuptable&nbsp;--&nbsp;освободить набор строк, созданный <CODE
CLASS="FUNCTION"
>SPI_execute</CODE
> или подобной функцией</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN66151"
></A
><H2
>Синтаксис</H2
><PRE
CLASS="SYNOPSIS"
>void SPI_freetuptable(SPITupleTable * <TT
CLASS="PARAMETER"
>tuptable</TT
>)</PRE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN66154"
></A
><H2
>Описание</H2
><P
><CODE
CLASS="FUNCTION"
>SPI_freetuptable</CODE
> освобождает набор строк, созданных предыдущей функцией SPI выполнения команд, например <CODE
CLASS="FUNCTION"
>SPI_execute</CODE
>. Таким образом, при вызове этой функции в качестве аргумента часто передаётся глобальная переменная <TT
CLASS="VARNAME"
>SPI_tuptable</TT
>.</P
><P
>Эта функция полезна, когда процедура, использующая SPI, должна выполнить несколько команд, но не хочет сохранять результаты предыдущих команд до завершения. Заметьте, что любые не освобождённые таким образом наборы строк будут всё равно освобождены при выполнении <CODE
CLASS="FUNCTION"
>SPI_finish</CODE
>. Кроме того, если была запущена подтранзакция, а затем она прервалась в ходе выполнения процедуры SPI, все наборы строк, созданные в рамках подтранзакции, будут автоматически освобождены.</P
><P
>Начиная с <SPAN
CLASS="PRODUCTNAME"
>PostgreSQL</SPAN
> версии 9.3, <CODE
CLASS="FUNCTION"
>SPI_freetuptable</CODE
> содержит защитную логику, отфильтровывающую повторные запросы на удаление одного и того же набора строк. В предыдущих версиях повторное удаление могло приводить к сбоям.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN66165"
></A
><H2
>Аргументы</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="LITERAL"
>SPITupleTable * <TT
CLASS="PARAMETER"
>tuptable</TT
></TT
></DT
><DD
><P
>указатель на набор строк, который нужно освободить (если NULL, ничего не происходит)</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="spi-spi-freetuple.html"
ACCESSKEY="P"
>Пред.</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Начало</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="spi-spi-freeplan.html"
ACCESSKEY="N"
>След.</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>SPI_freetuple</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="spi-memory.html"
ACCESSKEY="U"
>Уровень выше</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>SPI_freeplan</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>